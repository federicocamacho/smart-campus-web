<header class="default-shadow">
  <menu class="menu-container" [ngClass]="{'close': !openMenu }">
    <div
      class="menu-item"
      *ngFor="let section of sections"
      [ngStyle]="{'color': section.cardColor}"
      style="height: 28px">
      <mat-icon [ngStyle]="{'font-size': openMenu ? '24px': '0px'}">{{section.materialIconName}}</mat-icon> - {{section.title}}
    </div>
  </menu>
  <nav class="navbar" fxLayout="row" fxFlexFill>
    <div fxFlex="20">
      <div class="menu-icon-container" (click)="openMenu = !openMenu">
        <mat-icon>menu</mat-icon>
      </div>
    </div>
    <div fxFlex="60" class="navbar-header" (click)="goHome()">
      <a
        class="navbar-brand"
        fxLayout="row"
        fxFlexFill
        fxLayoutAlign="center center">
        <div
          scAnimated="fadeIn"
          class="name-container"
          fxHide.lt-sm>
          <span class="brand-name">SMART</span>
        </div>
        <img
          src="assets/icons/icon.png"
          alt="Smart Campus Logo"
          class="brand-logo"/>
        <div
          scAnimated="fadeIn"
          class="name-container"
          fxHide.lt-sm>
          <span class="brand-name">CAMPUS</span>
        </div>
      </a>
    </div>
    <div class="navbar-collapse" fxFlex="20">
      <ul class="navbar-nav" fxFlex fxLayout="row" fxLayoutAlign="end">
        <li
          class="nav-item user-item" fxFlexFill
          style="padding-right: 10px;"
          (click)="toggleUserCard($event)">
          <img
            src="assets/imgs/user.png"
            [alt]="userName"
            class="user-img"
            fxFlex="35px"
            style="margin: auto"/>
          <span class="user-name" fxFlex>{{ appService.user?.name }}</span>
          <mat-icon style="margin: auto" fxFlex="30px">keyboard_arrow_down</mat-icon>
        </li>
      </ul>
    </div>
  </nav>
</header>
<sc-user-card
  scClickOutside
  scAnimated="fadeInDownBig"
  [ngStyle]="{
    visibility: dashboardService.isUserCardOpened ? 'visible' : 'hidden'
  }"
  (clickOutside)="closeUserCard()"
  imageUrl="assets/imgs/user.png"
  [username]="appService.user?.username"
  [email]="appService.user?.email"
  [name]="appService.user?.name">
</sc-user-card>
<div class="page-wrapper">
  <div class="section-card-container" fxLayout="row wrap" fxLayoutAlign="space-evenly center" fxLayoutGap="20px">
    <sc-section-card
      *ngFor="let section of sections"
      [title]="section.title"
      [description]="section.description"
      [url]="section.url"
      [materialIconName]="section.materialIconName"
      [cardColor]="section.cardColor"></sc-section-card>
  </div>
  <router-outlet></router-outlet>
</div>
